var jazzer=function(){"use strict";var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,c=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=a.links||"[data-jazzer-trigger]",t=a.container||"#jazzer",n=a.transitionClass||"jazzer-changing",r=a.duration||500,i=a.changeUrl||!0,o=document.querySelector(t),d()},d=function(){if(a)for(var t=0;t<a.length;t++)a[t].removeEventListener("click",s);if(a=document.querySelectorAll(e),0===a.length)throw new Error("jazzer couldn't find any links matching the css selector \""+e+'".');for(var n=0;n<a.length;n++)a[n].addEventListener("click",s)},s=function(e){e.preventDefault();var t=new XMLHttpRequest,n=e.state?e.state.path:e.currentTarget.href||location.href;t.addEventListener("readystatechange",function(){if(4===t.readyState){if(200!==t.status)throw new Error("jazzer couldn't get \""+n+'", the server responded with "'+t.status+" "+t.statusText+'".');u(t.responseText,e.type,n)}}),t.open("get",n,!0),t.send()},u=function(e,a,c){o.classList.add(n),setTimeout(function(){var n=document.implementation.createHTMLDocument("");if(!o)throw new Error("jazzer couldn't find any element matching the css selector \""+t+'".');n.documentElement.innerHTML=e,o.innerHTML=n.querySelector(t).innerHTML,i&&(document.title=n.title,"click"===a&&history.pushState({path:c},n.title,c)),d(),l("jazzerChanged")},r+5)},l=function(e){var t=document.createEvent("Event");t.initEvent(e,!0,!0),document.dispatchEvent(t)};return window.addEventListener("popstate",function(e){s(e)}),window.addEventListener("jazzerChanged",function(e){var t=o.querySelectorAll("img, picture, image, video, audio, script, style"),n=t.length,r=function(){n--,0===n&&l("jazzerDone")};if(0===n)l("jazzerDone");else for(var i=0;i<t.length;i++)t[i].addEventListener("load",r)}),window.addEventListener("jazzerDone",function(){o.classList.remove(n)}),c}();